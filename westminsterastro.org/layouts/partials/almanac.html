<!-- Almanac Section - Sun and Moon Data -->
<section class="almanac-section py-5" style="background-color: var(--bs-dark);">
    <div class="container">

        <!-- Location Display -->
        <div class="text-center text-white mb-4">
            <p id="location-display" class="mb-0 lead">Blaine F. Roelke Memorial Observatory (39.6474°N, 76.9873°W)</p>
        </div>

        <!-- Controls Section -->
        <div class="card mb-4" style="background-color: var(--bs-gray-800); border-color: var(--bs-border-color);">
            <div class="card-body">
                <div class="row g-3 align-items-center">
                    <div class="col-lg-2">
                        <label for="latitude" class="form-label text-light small">Latitude:</label>
                        <input type="number" id="latitude" class="form-control form-control-sm" value="39.647398" step="0.000001" style="max-width: 120px;">
                    </div>
                    <div class="col-lg-2">
                        <label for="longitude" class="form-label text-light small">Longitude:</label>
                        <input type="number" id="longitude" class="form-control form-control-sm" value="-76.987309" step="0.000001" style="max-width: 120px;">
                    </div>
                    <div class="col-lg-2 d-flex align-items-end">
                        <button id="current-btn" class="btn btn-outline-light btn-sm d-block" onclick="getCurrentLocation()">Get Location</button>
                    </div>
                    <div class="col-lg-2">
                        <label for="date" class="form-label text-light small">Date:</label>
                        <input type="date" id="date" class="form-control form-control-sm">
                    </div>
                </div>
            </div>
        </div>

        <!-- Main Content Grid -->
        <div class="row g-4">
            <!-- Left Column - Sun Times -->
            <div class="col-lg-6">
                <div class="card h-100" style="background-color: var(--bs-gray-800); border-color: var(--bs-border-color);">
                    <div class="card-body">
                        <!-- Today's Date and Evening Times -->
                        <div class="mb-4">
                            <h4 id="today-date" class="text-light mb-3">Loading...</h4>
                            
                            <div class="sun-times">
                                <div class="d-flex justify-content-between align-items-center py-2 border-bottom border-secondary">
                                    <span class="text-light">Sunset</span>
                                    <span class="text-white fw-bold" id="sunset-time">--:--</span>
                                </div>
                                <div class="d-flex justify-content-between align-items-center py-2 border-bottom border-secondary">
                                    <span class="text-light">End Evening Civil Twilight</span>
                                    <span class="text-white fw-bold" id="civil-end-time">--:--</span>
                                </div>
                                <div class="d-flex justify-content-between align-items-center py-2 border-bottom border-secondary">
                                    <span class="text-light">End Evening Nautical Twilight</span>
                                    <span class="text-white fw-bold" id="nautical-end-time">--:--</span>
                                </div>
                                <div class="d-flex justify-content-between align-items-center py-2">
                                    <span class="text-light">End Evening Astronomical Twilight</span>
                                    <span class="text-white fw-bold" id="astronomical-end-time">--:--</span>
                                </div>
                            </div>
                        </div>

                        <!-- Tomorrow's Date and Morning Times -->
                        <div>
                            <h4 id="tomorrow-date" class="text-light mb-3">Loading...</h4>
                            
                            <div class="sun-times">
                                <div class="d-flex justify-content-between align-items-center py-2 border-bottom border-secondary">
                                    <span class="text-light">Begin Morning Astronomical Twilight</span>
                                    <span class="text-white fw-bold" id="astronomical-begin-time">--:--</span>
                                </div>
                                <div class="d-flex justify-content-between align-items-center py-2 border-bottom border-secondary">
                                    <span class="text-light">Begin Morning Nautical Twilight</span>
                                    <span class="text-white fw-bold" id="nautical-begin-time">--:--</span>
                                </div>
                                <div class="d-flex justify-content-between align-items-center py-2 border-bottom border-secondary">
                                    <span class="text-light">Begin Morning Civil Twilight</span>
                                    <span class="text-white fw-bold" id="civil-begin-time">--:--</span>
                                </div>
                                <div class="d-flex justify-content-between align-items-center py-2">
                                    <span class="text-light">Sunrise</span>
                                    <span class="text-white fw-bold" id="sunrise-time">--:--</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Right Column - Moon Information -->
            <div class="col-lg-6">
                <div class="card h-100" style="background-color: var(--bs-gray-800); border-color: var(--bs-border-color);">
                    <div class="card-body">
                        <!-- Moon Phase Header -->
                        <div class="mb-4">
                            <h4 class="text-light mb-3">
                                Moon: <span id="moon-phase-short" class="text-white">Loading...</span> 
                                <span id="moon-illumination" class="text-white">---%</span>
                            </h4>
                            
                            <!-- Moon Times -->
                            <div class="moon-times">
                                <div class="row py-2 border-bottom border-secondary">
                                    <div class="col-3">
                                        <span class="text-light">Moonrise</span>
                                    </div>
                                    <div class="col-4">
                                        <span class="text-white fw-bold" id="moonrise-time">--:--</span>
                                    </div>
                                    <div class="col-5">
                                        <span class="text-muted">Azimuth: <span class="text-white fw-bold" id="moonrise-azimuth">---°</span></span>
                                    </div>
                                </div>
                                <div class="row py-2 border-bottom border-secondary">
                                    <div class="col-3">
                                        <span class="text-light">Transit</span>
                                    </div>
                                    <div class="col-4">
                                        <span class="text-white fw-bold" id="moon-meridian">--:--</span>
                                    </div>
                                    <div class="col-5">
                                        <span class="text-muted">Altitude: <span class="text-white fw-bold" id="moon-elevation">--.-°</span></span>
                                    </div>
                                </div>
                                <div class="row py-2">
                                    <div class="col-3">
                                        <span class="text-light">Moonset</span>
                                    </div>
                                    <div class="col-4">
                                        <span class="text-white fw-bold" id="moonset-time">--:--</span>
                                    </div>
                                    <div class="col-5">
                                        <span class="text-muted">Azimuth: <span class="text-white fw-bold" id="moonset-azimuth">---°</span></span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Twilight Definitions -->
                        <div class="mb-3">
                            <h5 class="text-light mb-2">Twilight Definitions:</h5>
                            <div class="text-muted small">
                                <div class="mb-1"><strong>Civil Twilight:</strong> Sun is 6° below horizon</div>
                                <div class="mb-1"><strong>Nautical Twilight:</strong> Sun is 12° below horizon</div>
                                <div class="mb-1"><strong>Astronomical Twilight:</strong> Sun is 18° below horizon</div>
                            </div>
                        </div>
                        
                        <!-- Notes -->
                        <div class="text-muted small">
                            <p class="mb-1">Calculations are approximate and do not account for elevation or atmospheric conditions.</p>
                            <p class="mb-0">The time for the Moon illumination calculation is the meridian crossing.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
